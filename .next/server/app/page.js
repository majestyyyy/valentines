(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9085:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,751)),"/Users/majesty/UE HEART/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2041)),"/Users/majesty/UE HEART/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/majesty/UE HEART/app/page.tsx"],u="/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9889:(e,t,s)=>{Promise.resolve().then(s.bind(s,175)),Promise.resolve().then(s.bind(s,6610))},3291:(e,t,s)=>{Promise.resolve().then(s.bind(s,4302))},4819:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},4302:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5344),a=s(3729),n=s(2829),i=s(8428),l=s(1354),o=s(1206),d=s(2965);function c(){let[e,t]=(0,a.useState)("email"),[s,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1),[h,b]=(0,a.useState)(""),f=(0,i.useRouter)(),g=async e=>{e.preventDefault(),x(!0),b("");try{let{error:e}=await n.O.auth.signInWithOtp({email:s,options:{shouldCreateUser:!0}});if(e)throw e;b("Check your email! We sent you a 6-digit code."),t("verify")}catch(e){b(e.message||"Failed to send OTP")}finally{x(!1)}},y=async e=>{e.preventDefault(),x(!0),b("");try{let{data:e,error:t}=await n.O.auth.verifyOtp({email:s,token:u,type:"email"});if(t)throw t;if(!e.session)throw Error("No session created after verification");if(e.user){let{data:t}=await n.O.from("profiles").select("status, nickname, photo_urls").eq("id",e.user.id).single();t&&t.nickname&&t.photo_urls&&0!==t.photo_urls.length?"pending"===t.status?f.push("/profile-setup/pending"):"approved"===t.status?f.push("/home"):"rejected"===t.status?f.push("/home"):b("Your account status is unclear. Please contact support."):f.push("/profile-setup")}}catch(e){console.error("Verification failed:",e),b(e.message||"Invalid or expired OTP code")}finally{x(!1)}};return r.jsx("main",{className:"relative flex min-h-screen flex-col items-center justify-center p-6 bg-gradient-to-br from-pink-100 via-rose-50 to-red-50",children:(0,r.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-pink-500 to-red-500 rounded-full mb-6 shadow-2xl animate-pulse",children:r.jsx(l.Z,{className:"w-14 h-14 text-white fill-white"})}),r.jsx("h1",{className:"text-6xl font-black bg-gradient-to-r from-pink-500 to-red-500 bg-clip-text text-transparent mb-4 drop-shadow-lg",children:"yUE Match!"}),r.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Find your match within the campus \uD83D\uDC95"})]}),r.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl p-8 border-2 border-pink-200/50",children:"verify"===e?(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-pink-100 rounded-full mb-3",children:r.jsx(o.Z,{className:"w-8 h-8 text-pink-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Check Your Email \uD83D\uDC8C"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["We sent an 8-digit code to ",r.jsx("strong",{children:s})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"otp",className:"block text-sm font-bold text-gray-700 mb-2",children:"Enter Verification Code"}),r.jsx("input",{type:"text",id:"otp",className:"w-full rounded-xl border-2 border-gray-200 px-4 py-4 focus:border-ue-red focus:outline-none transition-colors text-center text-2xl font-bold tracking-widest",placeholder:"00000000",value:u,onChange:e=>m(e.target.value.replace(/\D/g,"").slice(0,8)),maxLength:8,required:!0})]}),h&&r.jsx("div",{className:`p-4 rounded-xl text-sm font-medium ${h.includes("Check")||h.includes("sent")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:h}),(0,r.jsxs)("button",{type:"submit",disabled:p||8!==u.length,className:"w-full rounded-full bg-gradient-to-r from-pink-500 to-red-500 px-6 py-4 text-base font-bold text-white shadow-lg hover:shadow-xl focus:outline-none disabled:opacity-50 transition-all active:scale-95 flex items-center justify-center gap-2",children:[r.jsx(d.Z,{className:"w-5 h-5"}),p?"Verifying...":"Verify & Continue"]}),r.jsx("button",{type:"button",onClick:()=>{t("email"),m(""),b("")},className:"w-full text-sm text-gray-500 hover:text-pink-500 transition-colors",children:"â† Back to email"})]}):(0,r.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"UE Email Address"}),r.jsx("input",{type:"email",id:"email",className:"w-full rounded-xl border-2 border-pink-200 px-4 py-4 focus:border-pink-500 focus:outline-none transition-colors text-base",placeholder:"student@ue.edu.ph",value:s,onChange:e=>c(e.target.value),required:!0})]}),h&&!h.includes("Check")&&!h.includes("sent")&&r.jsx("div",{className:"p-4 rounded-xl text-sm font-medium bg-red-50 text-red-700 border border-red-200",children:h}),(0,r.jsxs)("button",{type:"submit",disabled:p,className:"w-full rounded-full bg-gradient-to-r from-pink-500 to-red-500 px-6 py-4 text-base font-bold text-white shadow-lg hover:shadow-xl focus:outline-none disabled:opacity-50 transition-all active:scale-95 flex items-center justify-center gap-2",children:[r.jsx(o.Z,{className:"w-5 h-5"}),p?"Sending Code...":"Continue with Email"]})]})}),(0,r.jsxs)("p",{className:"text-center text-sm text-gray-500 mt-8",children:["By continuing, you agree to our"," ",r.jsx("a",{href:"/terms",className:"text-red-600 hover:text-red-700 underline font-semibold",children:"Terms of Service & Privacy Policy"})]})]})})}},175:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5344),a=s(3729),n=s(8428),i=s(2829),l=s(5961);function o({children:e}){let[t,s]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!0),c=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=null;return(async()=>{try{let{data:{user:t}}=await i.O.auth.getUser();if(!t){d(!1);return}let{data:r}=await i.O.from("profiles").select("status").eq("id",t.id).single();r?.status==="rejected"&&s(!0),e=i.O.channel(`ban-check-${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},e=>{let t=e.new;"rejected"===t.status&&s(!0)}).subscribe(),d(!1)}catch(e){console.error("Error checking ban status:",e),d(!1)}})(),()=>{e&&e.unsubscribe()}},[]);let u=async()=>{await i.O.auth.signOut(),c.push("/")};return o?r.jsx(r.Fragment,{children:e}):t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-red-50 to-white p-6",children:r.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full border-4 border-red-500",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(l.Z,{className:"w-10 h-10 text-red-600"})}),r.jsx("h1",{className:"text-3xl font-black text-red-600 mb-4",children:"Account Banned"}),r.jsx("p",{className:"text-gray-700 text-lg mb-2",children:"Your account has been banned by an administrator."}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You can no longer access yUE Match!. If you believe this was a mistake, please contact support."}),r.jsx("div",{className:"border-t border-gray-200 my-6"}),r.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 mb-6",children:(0,r.jsxs)("p",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"Reason:"})," Violation of community guidelines or user report"]})}),r.jsx("button",{onClick:u,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-2xl font-bold text-lg hover:from-red-700 hover:to-red-800 shadow-lg transition-all active:scale-95",children:"Sign Out"}),r.jsx("p",{className:"text-xs text-gray-400 mt-6",children:"Thank you for using yUE Match! responsibly"})]})})}):r.jsx(r.Fragment,{children:e})}},6610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5344),a=s(3729),n=s(8428);function i({children:e}){let[t,s]=(0,a.useState)(!0),i=(0,n.usePathname)();(0,a.useEffect)(()=>{let e=()=>{window.innerWidth>768?s(!1):s(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let l=i?.startsWith("/admin");return t||l?r.jsx(r.Fragment,{children:e}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-ue-red text-white p-8 text-center",children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Mobile Only"}),r.jsx("p",{className:"text-xl",children:"yUE Match! is designed exclusively for mobile devices. Please open this application on your phone or reduce your browser window size."})]})}},2829:(e,t,s)=>{"use strict";s.d(t,{O:()=>i,p:()=>o});var r=s(7635);let a=process.env.NEXT_PUBLIC_SUPABASE_URL,n=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,i=(0,r.eI)(a,n),l=process.env.NEXT_PUBLIC_SUPABASE_SERVICE_ROLE_KEY||n,o=(0,r.eI)(a,l,{auth:{autoRefreshToken:!1,persistSession:!1}})},1354:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2965:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},1206:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2041:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b,metadata:()=>h});var r=s(5036),a=s(8592),n=s.n(a);s(7272);var i=s(6843);let l=(0,i.createProxy)(String.raw`/Users/majesty/UE HEART/components/MobileGuard.tsx`),{__esModule:o,$$typeof:d}=l,c=l.default,u=(0,i.createProxy)(String.raw`/Users/majesty/UE HEART/components/BanGuard.tsx`),{__esModule:m,$$typeof:p}=u,x=u.default,h={title:"yUE Match!",description:"Find your match at University of the East",manifest:"/manifest.json",appleWebApp:{capable:!0,statusBarStyle:"default",title:"yUE Match!"},icons:{icon:[{url:"/icon-192.png",sizes:"192x192",type:"image/png"},{url:"/icon-512.png",sizes:"512x512",type:"image/png"}],apple:[{url:"/apple-icon.png",sizes:"180x180",type:"image/png"}]}};function b({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),r.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),r.jsx("meta",{name:"apple-mobile-web-app-title",content:"yUE Match!"}),r.jsx("link",{rel:"apple-touch-icon",href:"/apple-icon.png"})]}),r.jsx("body",{className:n().className,children:r.jsx(c,{children:r.jsx(x,{children:e})})})]})}},751:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/Users/majesty/UE HEART/app/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[225,454],()=>s(9085));module.exports=r})();