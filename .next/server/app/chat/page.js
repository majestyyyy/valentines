(()=>{var e={};e.id=929,e.ids=[929],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1394:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5582)),"/Users/majesty/UE HEART/app/chat/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2041)),"/Users/majesty/UE HEART/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/majesty/UE HEART/app/chat/page.tsx"],m="/chat/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5194:(e,t,s)=>{Promise.resolve().then(s.bind(s,4381))},9889:(e,t,s)=>{Promise.resolve().then(s.bind(s,175)),Promise.resolve().then(s.bind(s,6610))},4819:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},4381:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5344),a=s(3729),n=s(2829),i=s(1532),l=s(1354),o=s(6506);function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e;(async()=>{let{data:{user:s}}=await n.O.auth.getUser();if(!s)return;e=s.id;let{data:r,error:a}=await n.O.from("matches").select("*").or(`user1_id.eq.${s.id},user2_id.eq.${s.id}`);r&&t(await Promise.all(r.map(async e=>{let t=e.user1_id===s.id?e.user2_id:e.user1_id,{data:r}=await n.O.from("profiles").select("*").eq("id",t).single();return{...e,partner:r}}))),c(!1)})();let s=n.O.channel("matches").on("postgres_changes",{event:"INSERT",schema:"public",table:"matches"},async s=>{let r=s.new;if(r.user1_id===e||r.user2_id===e){let s=r.user1_id===e?r.user2_id:r.user1_id,{data:a}=await n.O.from("profiles").select("*").eq("id",s).single();a&&t(e=>[...e,{...r,partner:a}])}}).subscribe();return()=>{n.O.removeChannel(s)}},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-rose-50 to-red-50",children:[(0,r.jsxs)("header",{className:"p-6 bg-gradient-to-r from-pink-500 to-red-500 shadow-lg flex items-center sticky top-0 z-10",children:[r.jsx(o.default,{href:"/home",className:"mr-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(i.Z,{className:"text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-black text-white drop-shadow-md",children:"Messages \uD83D\uDC95"}),r.jsx("p",{className:"text-sm text-white/90",children:"Your matches and conversations"})]})]}),r.jsx("div",{className:"p-4 max-w-2xl mx-auto",children:s?r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-ue-red border-t-transparent"})}):(0,r.jsxs)("div",{className:"space-y-3",children:[0===e.length&&(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center shadow-sm border border-gray-100",children:[r.jsx(l.Z,{className:"w-16 h-16 mx-auto mb-4 text-ue-red opacity-20"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"No matches yet"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Keep swiping to find your match!"})]}),e.map(e=>(0,r.jsxs)(o.default,{href:`/chat/${e.id}`,className:"flex items-center gap-4 p-4 bg-white hover:bg-gray-50 rounded-2xl transition-all shadow-sm border border-gray-100 hover:shadow-md active:scale-98",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex-shrink-0 overflow-hidden ring-2 ring-white shadow-md",children:e.partner?.photo_urls?.[0]?r.jsx("img",{src:e.partner.photo_urls[0],alt:e.partner.nickname||"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl font-bold text-gray-400",children:e.partner?.nickname?.[0]||"M"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-800",children:e.partner?.nickname}),r.jsx("p",{className:"text-sm text-gray-500",children:"Tap to start chatting \uD83D\uDCAC"})]}),r.jsx(i.Z,{className:"w-5 h-5 text-gray-300 rotate-180"})]},e.id))]})})]})}},175:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5344),a=s(3729),n=s(8428),i=s(2829),l=s(5961);function o({children:e}){let[t,s]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!0),d=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=null;return(async()=>{try{let{data:{user:t}}=await i.O.auth.getUser();if(!t){c(!1);return}let{data:r}=await i.O.from("profiles").select("status").eq("id",t.id).single();r?.status==="rejected"&&s(!0),e=i.O.channel(`ban-check-${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},e=>{let t=e.new;"rejected"===t.status&&s(!0)}).subscribe(),c(!1)}catch(e){console.error("Error checking ban status:",e),c(!1)}})(),()=>{e&&e.unsubscribe()}},[]);let m=async()=>{await i.O.auth.signOut(),d.push("/")};return o?r.jsx(r.Fragment,{children:e}):t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-red-50 to-white p-6",children:r.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full border-4 border-red-500",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(l.Z,{className:"w-10 h-10 text-red-600"})}),r.jsx("h1",{className:"text-3xl font-black text-red-600 mb-4",children:"Account Banned"}),r.jsx("p",{className:"text-gray-700 text-lg mb-2",children:"Your account has been banned by an administrator."}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You can no longer access yUE Match!. If you believe this was a mistake, please contact support."}),r.jsx("div",{className:"border-t border-gray-200 my-6"}),r.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 mb-6",children:(0,r.jsxs)("p",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"Reason:"})," Violation of community guidelines or user report"]})}),r.jsx("button",{onClick:m,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-2xl font-bold text-lg hover:from-red-700 hover:to-red-800 shadow-lg transition-all active:scale-95",children:"Sign Out"}),r.jsx("p",{className:"text-xs text-gray-400 mt-6",children:"Thank you for using yUE Match! responsibly"})]})})}):r.jsx(r.Fragment,{children:e})}},6610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5344),a=s(3729),n=s(8428);function i({children:e}){let[t,s]=(0,a.useState)(!0),i=(0,n.usePathname)();(0,a.useEffect)(()=>{let e=()=>{window.innerWidth>768?s(!1):s(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let l=i?.startsWith("/admin");return t||l?r.jsx(r.Fragment,{children:e}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-ue-red text-white p-8 text-center",children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Mobile Only"}),r.jsx("p",{className:"text-xl",children:"yUE Match! is designed exclusively for mobile devices. Please open this application on your phone or reduce your browser window size."})]})}},2829:(e,t,s)=>{"use strict";s.d(t,{O:()=>i,p:()=>o});var r=s(7635);let a=process.env.NEXT_PUBLIC_SUPABASE_URL,n=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,i=(0,r.eI)(a,n),l=process.env.NEXT_PUBLIC_SUPABASE_SERVICE_ROLE_KEY||n,o=(0,r.eI)(a,l,{auth:{autoRefreshToken:!1,persistSession:!1}})},1532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},5582:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/Users/majesty/UE HEART/app/chat/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},2041:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g,metadata:()=>x});var r=s(5036),a=s(8592),n=s.n(a);s(7272);var i=s(6843);let l=(0,i.createProxy)(String.raw`/Users/majesty/UE HEART/components/MobileGuard.tsx`),{__esModule:o,$$typeof:c}=l,d=l.default,m=(0,i.createProxy)(String.raw`/Users/majesty/UE HEART/components/BanGuard.tsx`),{__esModule:u,$$typeof:h}=m,p=m.default,x={title:"yUE Match!",description:"Find your match at University of the East",manifest:"/manifest.json",appleWebApp:{capable:!0,statusBarStyle:"default",title:"yUE Match!"},icons:{icon:[{url:"/icon-192.png",sizes:"192x192",type:"image/png"},{url:"/icon-512.png",sizes:"512x512",type:"image/png"}],apple:[{url:"/apple-icon.png",sizes:"180x180",type:"image/png"}]}};function g({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),r.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),r.jsx("meta",{name:"apple-mobile-web-app-title",content:"yUE Match!"}),r.jsx("link",{rel:"apple-touch-icon",href:"/apple-icon.png"})]}),r.jsx("body",{className:n().className,children:r.jsx(d,{children:r.jsx(p,{children:e})})})]})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[225,454,134],()=>s(1394));module.exports=r})();