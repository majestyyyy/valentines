(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{2697:function(e,r,a){Promise.resolve().then(a.bind(a,9736))},9736:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return g}});var t=a(3827),s=a(4090),o=a(5922),n=a(7907),l=a(5211),i=a(7286);async function d(e){let r=e.toLowerCase().trim(),a=new TextEncoder().encode(r),t=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(t)).map(e=>e.toString(16).padStart(2,"0")).join("")}let c=["CAS","CCSS","CBA","CEDUC","CDENT","CENG"],u=["Male","Female","Non-binary","Other"],h=["Male","Female","Non-binary","Other","Everyone"];function m(){let e=(0,n.useRouter)(),r="true"===(0,n.useSearchParams)().get("rejected"),[a,m]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!0),[p,f]=(0,s.useState)(!1),[x,y]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[k,w]=(0,s.useState)({nickname:"",college:"CCSS",year_level:1,hobbies:"",description:"",gender:"Male",preferred_gender:"Everyone"}),[N,C]=(0,s.useState)([null,null]),[P,S]=(0,s.useState)([null,null]),_=(0,s.useRef)(null),E=(0,s.useRef)(null);(0,s.useEffect)(()=>{D()},[]);let D=async()=>{try{let{data:{user:r}}=await o.O.auth.getUser();if(!r){b(!1);return}let{data:a}=await o.O.from("profiles").select("*").eq("id",r.id).single();if(a){var e;f(!0),w({nickname:a.nickname||"",college:a.college||"CCSS",year_level:a.year_level||1,hobbies:(null===(e=a.hobbies)||void 0===e?void 0:e.join(", "))||"",description:a.description||"",gender:a.gender||"Male",preferred_gender:a.preferred_gender||"Everyone"}),a.photo_urls&&S(a.photo_urls.slice(0,2).concat([null,null]).slice(0,2)),y(!0),j(!0)}}catch(e){console.error("Error loading profile:",e)}finally{b(!1)}},A=(e,r)=>{if(r.target.files&&r.target.files[0]){let a=r.target.files[0],t=[...N];t[e]=a,C(t);let s=[...P];s[e]=URL.createObjectURL(a),S(s)}},U=async e=>{let r=[];for(let a=0;a<N.length;a++){let t=N[a];if(t){let s=t.name.split(".").pop(),n="".concat(e,"/").concat(Date.now(),"-").concat(a,".").concat(s),{error:l}=await o.O.storage.from("photos").upload(n,t);if(l)throw console.error("Error uploading photo:",l),l;let{data:i}=o.O.storage.from("photos").getPublicUrl(n);r.push(i.publicUrl)}}return r},L=async r=>{if(r.preventDefault(),!N[0]&&!N[1]&&!P[0]&&!P[1]){alert("Please upload at least one photo.");return}if(!v){alert("You must be 18 years old or above to use yUE Match!");return}if(!x){alert("Please accept the Terms of Service and Privacy Policy to continue");return}let a=(0,i.IV)({Nickname:k.nickname,Hobbies:k.hobbies,Bio:k.description});if(a){alert(a);return}m(!0);try{let{data:{user:r}}=await o.O.auth.getUser();if(!r)throw Error("No user found");let a=[];a=p&&!N[0]&&!N[1]&&(P[0]||P[1])?P.filter(e=>null!==e):N[0]||N[1]?await U(r.id):P.filter(e=>null!==e);let t=await d(r.email),{error:s}=await o.O.from("profiles").upsert({id:r.id,email:t,nickname:k.nickname,college:k.college,year_level:k.year_level,hobbies:k.hobbies.split(",").map(e=>e.trim()),description:k.description,gender:k.gender,preferred_gender:k.preferred_gender,photo_urls:a,status:"pending"});if(s)throw s;e.push("/profile-setup/pending")}catch(e){alert("Error creating profile"),console.error(e)}finally{m(!1)}};return g?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-ue-red border-t-transparent mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Loading your profile..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-rose-50 to-red-50 pb-20",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-pink-500 to-red-500 shadow-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 max-w-2xl mx-auto",children:[(0,t.jsx)(l.Z,{className:"w-6 h-6 text-white fill-white"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-black text-white drop-shadow",children:p?"Edit Your Profile":"Create Your Profile"}),(0,t.jsx)("p",{className:"text-xs text-white/90",children:p?"Changes will be reviewed by admin before going live":r?"Update your information and resubmit for review":"Let others know who you are"})]})]})}),r&&(0,t.jsx)("div",{className:"max-w-2xl mx-auto px-4 pt-4",children:(0,t.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-500 rounded-xl p-3 mb-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"⚠️"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-orange-800",children:"Profile Rejected"}),(0,t.jsx)("p",{className:"text-sm text-orange-700 mt-1",children:"Your profile was not approved. Please review and update your information, then resubmit for admin review."})]})]})})}),(0,t.jsx)("div",{className:"max-w-2xl mx-auto p-4 pb-32",children:(0,t.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"\uD83D\uDCDD Basic Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-700",children:"Nickname"}),(0,t.jsx)("input",{type:"text",required:!0,className:"w-full p-4 border-2 border-gray-200 rounded-xl bg-white focus:border-ue-red focus:outline-none transition-colors",placeholder:"What should we call you?",value:k.nickname,onChange:e=>w({...k,nickname:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-700",children:"My Gender"}),(0,t.jsx)("select",{className:"w-full p-4 border-2 border-gray-200 rounded-xl bg-white focus:border-ue-red focus:outline-none transition-colors",value:k.gender,onChange:e=>w({...k,gender:e.target.value}),children:u.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-700",children:"Interested In"}),(0,t.jsx)("select",{className:"w-full p-4 border-2 border-gray-200 rounded-xl bg-white focus:border-ue-red focus:outline-none transition-colors",value:k.preferred_gender,onChange:e=>w({...k,preferred_gender:e.target.value}),children:h.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-700",children:"College"}),(0,t.jsx)("select",{className:"w-full p-4 border-2 border-gray-200 rounded-xl bg-white focus:border-ue-red focus:outline-none transition-colors",value:k.college||"CAS",onChange:e=>w({...k,college:e.target.value}),children:c.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-700",children:"Year Level"}),(0,t.jsx)("select",{className:"w-full p-4 border-2 border-gray-200 rounded-xl bg-white focus:border-ue-red focus:outline-none transition-colors",value:k.year_level,onChange:e=>w({...k,year_level:parseInt(e.target.value)}),children:[1,2,3,4,5].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"\uD83D\uDCF8 Your Photos"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Upload at least one photo"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{onClick:()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.click()},className:"aspect-[2/3] bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center border-2 border-dashed border-gray-300 cursor-pointer overflow-hidden relative hover:border-ue-red transition-colors group",children:[P[0]?(0,t.jsx)("img",{src:P[0],className:"w-full h-full object-cover",alt:"Preview 1"}):(0,t.jsxs)("div",{className:"text-center p-4",children:[(0,t.jsx)("div",{className:"text-4xl mb-2 group-hover:scale-110 transition-transform",children:"\uD83D\uDCF7"}),(0,t.jsx)("span",{className:"text-gray-500 text-sm font-medium",children:"Photo 1"})]}),(0,t.jsx)("input",{type:"file",hidden:!0,ref:_,accept:"image/*",onChange:e=>A(0,e)})]}),(0,t.jsxs)("div",{onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()},className:"aspect-[2/3] bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center border-2 border-dashed border-gray-300 cursor-pointer overflow-hidden relative hover:border-ue-red transition-colors group",children:[P[1]?(0,t.jsx)("img",{src:P[1],className:"w-full h-full object-cover",alt:"Preview 2"}):(0,t.jsxs)("div",{className:"text-center p-4",children:[(0,t.jsx)("div",{className:"text-4xl mb-2 group-hover:scale-110 transition-transform",children:"\uD83D\uDCF7"}),(0,t.jsx)("span",{className:"text-gray-500 text-sm font-medium",children:"Photo 2"})]}),(0,t.jsx)("input",{type:"file",hidden:!0,ref:E,accept:"image/*",onChange:e=>A(1,e)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"\uD83D\uDCAD About You"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-700",children:"Hobbies"}),(0,t.jsx)("input",{type:"text",placeholder:"Gaming, Coding, Basketball",className:"w-full p-4 border-2 border-gray-200 rounded-xl bg-white focus:border-ue-red focus:outline-none transition-colors",value:k.hobbies,onChange:e=>w({...k,hobbies:e.target.value})}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Separate with commas"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-700",children:"About Me"}),(0,t.jsx)("textarea",{placeholder:"Tell others about yourself...",className:"w-full p-4 border-2 border-gray-200 rounded-xl bg-white focus:border-ue-red focus:outline-none transition-colors h-32 resize-none",value:k.description,onChange:e=>w({...k,description:e.target.value})})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:(0,t.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:v,onChange:e=>j(e.target.checked),className:"mt-1 w-5 h-5 text-red-600 border-gray-300 rounded focus:ring-red-500"}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[(0,t.jsx)("span",{className:"font-semibold",children:"I confirm that I am 18 years old or above."})," ","yUE Match! is strictly for users aged 18 and older."]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:(0,t.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:x,onChange:e=>y(e.target.checked),className:"mt-1 w-5 h-5 text-red-600 border-gray-300 rounded focus:ring-red-500"}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:["I have read and agree to the"," ",(0,t.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-700 underline font-semibold",children:"Terms of Service and Privacy Policy"})]})]})}),(0,t.jsx)("button",{type:"submit",disabled:a||!v||!x,className:"w-full bg-ue-red text-white font-bold py-5 rounded-full shadow-xl hover:shadow-2xl hover:bg-red-700 transition-all active:scale-95 disabled:opacity-50 text-lg",children:a?"⏳ Creating Profile...":"✨ Create My Profile"})]})})]})}function g(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-ue-red border-t-transparent"})}),children:(0,t.jsx)(m,{})})}},7286:function(e,r,a){"use strict";a.d(r,{IV:function(){return o},oB:function(){return s}});let t=["fuck","fucking","fucker","motherfucker","shit","shitty","bitch","bitches","asshole","bastard","damn","hell","crap","piss","dick","cock","cocksucker","pussy","whore","slut","hoe","jackass","dumbass","fck","fuk","fuq","f*ck","f**k","sh*t","sht","b*tch","biatch","a$$","a$$hole","@ss","@sshole","pu$$y","p*ssy","d1ck","c0ck","sex","sexual","porn","porno","pornhub","nude","naked","boobs","tits","tit","ass","butt","booty","anal","oral","blowjob","handjob","rimjob","masturbate","masturbation","jerk off","cum","cumming","horny","sexy","seduce","seduction","orgasm","rape","rapist","molest","molestation","nigger","nigga","faggot","fag","retard","retarded","gay","lesbian","tranny","homo","queer","chink","spic","kike","cracker","kill","killing","murder","die","death","dead","suicide","self harm","harm","hurt","attack","beat","stab","shoot","bomb","terrorist","cocaine","coke","heroin","meth","shabu","weed","marijuana","pot","drug","drugs","dealer","get high","stoned","send money","send cash","cash app","venmo me","paypal me","gcash me","paymaya me","buy nudes","selling nudes","sugar daddy","sugar baby","scam","fraud","hack","putang ina","putangina","puta","gago","gaga","tanga","tangina","tarantado","ulol","bobo","gunggong","hayop","hinayupak","kingina","peste","animal","punyeta","leche","yawa","pakyu","lintik","bwisit","badtrip","sira ulo","buang","loko","p u t a","p*ta","p*tang ina","g@go","t@nga","put@ng in@","tang ina","puking ina","put@","g@g0","t@ngina","pu+ang ina","kantot","kantutan","tamod","titi","puke","bilat","jakol","chupa","tsupa","libog","malibog","tite","oten","burat","bayag","iyot","iyutan","kadyot","kadyotan","kantotero","kantotera","bakla","bading","bayot","tomboy","walang hiya","walang kwenta","basura","demonyo","unggoy","baboy","aso","kampon ni satanas","salot","perwisyo","pabigat","palamunin","patayin","papatayin","saksak","barilin","bugbugin","patay","mamamatay","sunugin","gulpi","sakalin","shabu","droga","adik","adik sa droga","pusher","tulak","bangag","sabog","padala ng pera","send gcash","send paymaya","magpadala ng pera","hingi pera","utang","budol","scammer","loko","modus"].map(e=>e.toLowerCase());function s(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Text";return function(e){if(!e||"string"!=typeof e)return{isClean:!0,foundWords:[]};let r=e.toLowerCase(),a=[];for(let e of t){let t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");RegExp("\\b".concat(t,"\\b"),"gi").test(r)&&a.push(e)}return{isClean:0===a.length,foundWords:a}}(e).isClean?null:"".concat(r," contains inappropriate language. Please keep your content respectful.")}function o(e){for(let[r,a]of Object.entries(e)){let e=s(a,r);if(e)return e}return null}},5922:function(e,r,a){"use strict";a.d(r,{O:function(){return l},p:function(){return d}});var t=a(7688),s=a(9079);let o=s.env.NEXT_PUBLIC_SUPABASE_URL,n=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,l=(0,t.eI)(o,n),i=s.env.NEXT_PUBLIC_SUPABASE_SERVICE_ROLE_KEY||n,d=(0,t.eI)(o,i,{auth:{autoRefreshToken:!1,persistSession:!1}})},7461:function(e,r,a){"use strict";a.d(r,{Z:function(){return n}});var t=a(4090),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,r)=>{let a=(0,t.forwardRef)((a,n)=>{let{color:l="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:h,...m}=a;return(0,t.createElement)("svg",{ref:n,...s,width:i,height:i,stroke:l,strokeWidth:c?24*Number(d)/Number(i):d,className:["lucide","lucide-".concat(o(e)),u].join(" "),...m},[...r.map(e=>{let[r,a]=e;return(0,t.createElement)(r,a)}),...Array.isArray(h)?h:[h]])});return a.displayName="".concat(e),a}},5211:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(7461).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},7907:function(e,r,a){"use strict";var t=a(5313);a.o(t,"useParams")&&a.d(r,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[667,971,69,744],function(){return e(e.s=2697)}),_N_E=e.O()}]);